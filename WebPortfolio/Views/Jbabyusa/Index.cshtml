@{
    Layout = null;
    ViewBag.Title = "Index";
}

<!DOCTYPE html>
<html>
<head>
    <title>@ViewBag.Title</title>
    <link href="@Url.Content("~/Content/Jbabyusa.css")" rel="stylesheet" type="text/css" />
    <script src="@Url.Content("~/Scripts/jquery-1.8.2.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
    @*<script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>*@
    <script src="@Url.Content("~/Scripts/jquery.mousewheel.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.easing.1.3.min.js")" type="text/javascript"></script>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
</head>
    <body id="public-layout">
    <div id="public-loading"><img src="/Content/Jbabyusa/loading.gif"/></div>
        <div id="public-container">
            @Html.Partial("/Views/Jbabyusa/_NavigationMenu.cshtml")

            <div class="pages-container">
                @Html.Partial("/Views/Jbabyusa/_Introduction.cshtml")
    
                @Html.Partial("/Views/Jbabyusa/_Philosophy.cshtml")    
        
                @Html.Partial("/Views/Jbabyusa/_Product.cshtml")  

                @Html.Partial("/Views/Jbabyusa/_Contact.cshtml")  
            </div>
        </div>
    </body>
</html>

<script type="text/javascript">
    var $gPagesSelector = $('.public-page');
    
    var gAnimateFunctions = [animateIntroduction, animatePhilosophy, animateProduct, animateContact]; // list of functions to execute: change the order if necessary
    var gCurrentPageNumber = 0;
    var gMaxPageNumber = $gPagesSelector.length - 1;

    var gIsScrolling = false;
    var gPageScrollingSpeed = 1000;

    $(document).ready(function () {
        /* Override layout mousewheel */
        $(document).mousewheel(function (event, delta) {
            if (event.preventDefault) { event.preventDefault(); } else { event.returnValue = false; };  // disable native scroll for most browsers, else disable for IE

            if (delta == -1) { // down
                if (gCurrentPageNumber < gMaxPageNumber) {
                    scrollToPage($gPagesSelector.eq(gCurrentPageNumber + 1).attr('id'), gPageScrollingSpeed);
                }
            } else {
                if (gCurrentPageNumber > 0) {
                    scrollToPage($gPagesSelector.eq(gCurrentPageNumber - 1).attr('id'), gPageScrollingSpeed);
                }
            }
        });
    });

    $(window).load(function () {
        $('#public-loading').hide();
        $('#public-container').show();
        setHeightForPages();
        gAnimateFunctions[gCurrentPageNumber]();  // execute first animate function
    });

    /* Override window resizes */
    window.onresize = function () {
        setHeightForPages();
        scrollToPage($gPagesSelector.eq(gCurrentPageNumber).attr('id'), 0);
    }

    function setHeightForPages() {
        var windowHeight = "innerHeight" in window ? window.innerHeight : document.documentElement.offsetHeight;
        if (windowHeight <= 600) { windowHeight = 600; }
        $gPagesSelector.css('height', windowHeight); // set height for all pages
        $productPageContainer.find('.product-image-container').each(function () { // set width of romper image containers to be the same to height (assuming we are using square pictures)
            $(this).css('width', $(this).height());
        });
    }

    function scrollToPage(pageId, speed) {
        if (gIsScrolling == false) {
            gIsScrolling = true;

            var $pageSelector = $('.public-page' + '#' + pageId);
            var $menuOptions = $('#navigation-menu .menu-option');
            $menuOptions.removeClass('active');
            $menuOptions.filter('#' + pageId).addClass('active');
            
            $('html, body').animate({ scrollTop: $pageSelector.offset().top.toFixed(0) }, speed, 'easeOutCubic', function () {
                gAnimateFunctions[gCurrentPageNumber]();  // execute function on page
                gIsScrolling = false;
            });

            gCurrentPageNumber = $gPagesSelector.index($pageSelector);
        }
    }
</script>